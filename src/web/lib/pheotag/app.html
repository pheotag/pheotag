<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="pics.html">
<link rel="import" href="map.html">
<link rel="import" href="gpx.html">

<dom-module id="geotag-app">

    <template>
        <style>
            :host {
                display: flex;
                flex-direction: row;
                width: 100%;
                height: 100%;
            }
            #pics {
                /* flex: 1 */
                width: 280px;
            }
            #map {
                flex: 4;
            }
            #gpx {
                /* flex: 1 */
                width: 280px;
            }
        </style>
        <geotag-pics id="pics" latitude="{{ latitude }}" longitude="{{ longitude }}" on-photo="photoEventHandler"></geotag-pics>
        <geotag-map id="map" latitude="{{ latitude }}" longitude="{{ longitude }}"></geotag-map>
        <geotag-gpx id="gpx" latitude="{{ latitude }}" longitude="{{ longitude }}"></geotag-gpx>
    </template>

    <script>
        /** @polymerElement */
        class GeoTagApp extends Polymer.Element {
            /**
             *
             */
            static get is() {
                return 'geotag-app';
            }

            /**
             *
             */
            ready() {
                super.ready();
                this.photoEventHandler = this.$.gpx.photoEventHandler.bind( this.$.gpx );
            }
        }
        window.customElements.define(GeoTagApp.is, GeoTagApp);
    </script>

</dom-module>